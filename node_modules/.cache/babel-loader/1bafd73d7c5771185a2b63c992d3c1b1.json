{"ast":null,"code":"var _jsxFileName = \"/Users/ashwin/Desktop/covid-tracker/src/Components/Articles/Articles.jsx\";\nimport React, { Component } from 'react';\nimport Pusher from 'pusher-js';\nimport pushid from 'pushid';\nimport styles from './Articles.module.css';\n\nclass Articles extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newsItems: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:5000/live').then(response => response.json()).then(articles => {\n      this.setState({\n        newsItems: [...this.state.newsItems, ...articles]\n      });\n    }).catch(error => console.log(error));\n    const pusher = new Pusher('9fbe822e0017ca3faaac', {\n      cluster: 'ap2',\n      encrypted: true\n    });\n    const channel = pusher.subscribe('news-channel');\n    channel.bind('update-news', data => {\n      this.setState({\n        newsItems: [...data.articles, ...this.state.newsItems]\n      });\n    });\n  }\n\n  render() {\n    const NewsItem = (article, id) => /*#__PURE__*/React.createElement(\"li\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `${article.url}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 20\n      }\n    }, article.title));\n\n    const newsItems = this.state.newsItems.map(e => NewsItem(e, pushid()));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.App,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: styles.App - title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, \"Live Bitcoin Feed\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.news - items,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, newsItems));\n  }\n\n}\n\nexport default Articles;","map":{"version":3,"sources":["/Users/ashwin/Desktop/covid-tracker/src/Components/Articles/Articles.jsx"],"names":["React","Component","Pusher","pushid","styles","Articles","state","newsItems","componentDidMount","fetch","then","response","json","articles","setState","catch","error","console","log","pusher","cluster","encrypted","channel","subscribe","bind","data","render","NewsItem","article","id","url","title","map","e","App","news","items"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;;AAEA,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC/BK,KAD+B,GACvB;AACNC,MAAAA,SAAS,EAAE;AADL,KADuB;AAAA;;AAK/BC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,KAAK,CAAC,4BAAD,CAAL,CACGC,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,QAAQ,IAAI;AAChB,WAAKC,QAAL,CAAc;AACZP,QAAAA,SAAS,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,SAAf,EAA0B,GAAGM,QAA7B;AADC,OAAd;AAGD,KANH,EAMKE,KANL,CAMWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CANpB;AAQA,UAAMG,MAAM,GAAG,IAAIjB,MAAJ,CAAW,sBAAX,EAAmC;AAChDkB,MAAAA,OAAO,EAAE,KADuC;AAEhDC,MAAAA,SAAS,EAAE;AAFqC,KAAnC,CAAf;AAKA,UAAMC,OAAO,GAAGH,MAAM,CAACI,SAAP,CAAiB,cAAjB,CAAhB;AACAD,IAAAA,OAAO,CAACE,IAAR,CAAa,aAAb,EAA4BC,IAAI,IAAI;AAClC,WAAKX,QAAL,CAAc;AACZP,QAAAA,SAAS,EAAE,CAAC,GAAGkB,IAAI,CAACZ,QAAT,EAAmB,GAAG,KAAKP,KAAL,CAAWC,SAAjC;AADC,OAAd;AAGD,KAJD;AAKD;;AAEDmB,EAAAA,MAAM,GAAG;AACP,UAAMC,QAAQ,GAAG,CAACC,OAAD,EAAUC,EAAV,kBACf;AAAI,MAAA,GAAG,EAAEA,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAa;AAAG,MAAA,IAAI,EAAG,GAAED,OAAO,CAACE,GAAI,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4BF,OAAO,CAACG,KAApC,CAAb,CADF;;AAIA,UAAMxB,SAAS,GAAG,KAAKD,KAAL,CAAWC,SAAX,CAAqByB,GAArB,CAAyBC,CAAC,IAAIN,QAAQ,CAACM,CAAD,EAAI9B,MAAM,EAAV,CAAtC,CAAlB;AAEA,wBACE;AAAK,MAAA,SAAS,EAAEC,MAAM,CAAC8B,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAE9B,MAAM,CAAC8B,GAAP,GAAWH,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAEE;AAAI,MAAA,SAAS,EAAE3B,MAAM,CAAC+B,IAAP,GAAYC,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmC7B,SAAnC,CAFF,CADF;AAMD;;AAxC8B;;AA2CjC,eAAeF,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport Pusher from 'pusher-js';\nimport pushid from 'pushid';\nimport styles from './Articles.module.css';\n\nclass Articles extends Component {\n  state = {\n    newsItems: [],\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:5000/live')\n      .then(response => response.json())\n      .then(articles => {\n        this.setState({\n          newsItems: [...this.state.newsItems, ...articles],\n        });\n      }).catch(error => console.log(error));\n\n    const pusher = new Pusher('9fbe822e0017ca3faaac', {\n      cluster: 'ap2',\n      encrypted: true,\n    });\n\n    const channel = pusher.subscribe('news-channel');\n    channel.bind('update-news', data => {\n      this.setState({\n        newsItems: [...data.articles, ...this.state.newsItems],\n      });\n    });\n  }\n\n  render() {\n    const NewsItem = (article, id) => (\n      <li key={id}><a href={`${article.url}`}>{article.title}</a></li>\n    );\n\n    const newsItems = this.state.newsItems.map(e => NewsItem(e, pushid()));\n\n    return (\n      <div className={styles.App}>\n        <h1 className={styles.App-title}>Live Bitcoin Feed</h1>\n        <ul className={styles.news-items}>{newsItems}</ul>\n      </div>\n    );\n  }\n}\n\nexport default Articles;\n"]},"metadata":{},"sourceType":"module"}